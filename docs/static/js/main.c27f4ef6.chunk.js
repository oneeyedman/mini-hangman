(window["webpackJsonpmini-hangman"]=window["webpackJsonpmini-hangman"]||[]).push([[0],{10:function(e,t,a){e.exports=a(11)},11:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(1),s=a(2),c=a(3),i=a(6),l=a(4),o=a(5),p=a(0),u=a.n(p),m=a(9),d=a.n(m),h=(a(16),["rule","left","css","and","comb","this","get","html","api","from"]);function _(e){var t,a=e.length;return e[(t=a,Math.floor(Math.random()*t))]}var g=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"isActive",value:function(e){var t="";return this.props.tries>=e&&(t="hangman__part--active"),t}},{key:"render",value:function(){var e=this.props,t=e.rope,a=e.tries;return u.a.createElement("div",{className:"app__hangman hangman ".concat(t?"hangman--with-rope":"")},t&&u.a.createElement("div",{className:"hangman__rope ".concat(this.isActive(1))}),u.a.createElement("div",{className:"hangman__body ".concat(this.isActive(2))},u.a.createElement("div",{className:"hangman__head ".concat(this.isActive(2))},u.a.createElement("div",{className:"hangman__face ".concat(a>0?"hangman__face--sad":"")})),u.a.createElement("div",{className:"hangman__leg hangman__leg--left ".concat(this.isActive(3))}),u.a.createElement("div",{className:"hangman__leg hangman__leg--right ".concat(this.isActive(4))})))}}]),t}(u.a.Component),v=function(e){var t=e.hiddenWord;return u.a.createElement("ol",{className:"app__word"},t.map(function(e,t){return u.a.createElement("li",{key:t,className:"app__letter ".concat(e?"app__letter--ok":"")},e)}))},f=function(e){var t=e.getUserKey,a=e.handleFieldClick,n=e.userKey,r=e.gameOver;return u.a.createElement("div",{className:"app__user"},u.a.createElement("div",{className:"app__user-field"},u.a.createElement("input",{className:"app__user-letter",type:"text",onChange:t,onClick:a,maxLength:"1",value:n,disabled:r})))},y=function(e){var t=e.page,a=e.index,n=e.tries,r=e.hiddenWord,s=e.getUserKey,c=e.handleFieldClick,i=e.userKey,l=e.gameOver;return u.a.createElement("div",{className:"app__screen app__screen--game ".concat(t===a?"app__screen--active":"")},u.a.createElement(g,{rope:!0,tries:n}),u.a.createElement("div",{className:"app__ui"},u.a.createElement(v,{hiddenWord:r}),u.a.createElement(f,{getUserKey:s,handleFieldClick:c,userKey:i,gameOver:l})))},b=function(e){var t=e.page,a=e.index,n=e.action;return u.a.createElement("div",{className:"app__screen app__screen--splash ".concat(t===a?"app__screen--active":"")},u.a.createElement("h1",{className:"app__title"},"Mini Hangman"),u.a.createElement("div",{className:"app__version"},"v1.0.0"),u.a.createElement("button",{className:"app__button app__play",onClick:function(){n(1)}},"Play"))},E=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.page,a=e.index,n=e.action,r=e.word;return u.a.createElement("div",{className:"app__screen app__screen--ok ".concat(t===a?"app__screen--active":"")},u.a.createElement(g,{rope:!1,tries:0}),u.a.createElement("h2",{className:"app__screen-title"},"Yay!"),u.a.createElement("div",{className:"app__result"},"Word: ",r.join("")),u.a.createElement("button",{className:"app__button app__play",onClick:function(){n(1)},"data-next":1},"Play Again"))}}]),t}(u.a.Component),O=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.page,a=e.index,n=e.action,r=e.word;return u.a.createElement("div",{className:"app__screen app__screen--ko ".concat(t===a?"app__screen--active":"")},u.a.createElement(g,{rope:!0,tries:4}),u.a.createElement("h2",{className:"app__screen-title"},"Loser!"),u.a.createElement("div",{className:"app__result"},"Word: ",r.join("")),u.a.createElement("button",{className:"app__button app__play",onClick:function(){n(1)},"data-next":1},"Play Again"))}}]),t}(u.a.Component),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={page:0,totalTries:4,lettersLeft:0,tries:0,word:[],hiddenWord:[],userKey:"",userHistory:[],gameOver:!1},a.getUserKey=a.getUserKey.bind(Object(r.a)(a)),a.gotoScreen=a.gotoScreen.bind(Object(r.a)(a)),a.resetGame=a.resetGame.bind(Object(r.a)(a)),a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.startGame()}},{key:"resetGame",value:function(){var e=this;this.setState({page:1,tries:0,lettersLeft:0,userKey:"",userHistory:[],gameOver:!1},function(){e.startGame()})}},{key:"gotoScreen",value:function(e){this.setState({page:e})}},{key:"startGame",value:function(){var e=this,t=JSON.parse(localStorage.getItem("miniWords"))||h;fetch("https://api.rand.fun/text/word").then(function(e){return e.json()}).then(function(a){var n;a.result&&a.result.length<=4?(t.includes(a.result)||t.push(a.result),n=a.result.split("")):n=_(t).split("");var r=n.map(function(e){return""}),s=n.length;localStorage.setItem("miniWords",JSON.stringify(t)),e.setState({word:n,hiddenWord:r,lettersLeft:s})})}},{key:"getUserKey",value:function(e){var t=this,a=e.currentTarget.value.toLowerCase();a&&this.setState(function(e){var r=e.hiddenWord,s=e.userHistory,c=e.word,i=e.totalTries,l=e.tries,o=e.gameOver,p=e.lettersLeft,u=Object(n.a)(s),m=Object(n.a)(r);if(c.includes(a))for(var d=0;d<c.length;d++)c[d]===a&&(m[d]=a,p--);else l<i&&++l===i&&(o=!0);return u.push(a),o&&setTimeout(function(){t.setState({page:3})},1e3),0===p&&setTimeout(function(){t.setState({page:2})},1e3),{tries:l,hiddenWord:m,userKey:a,userHistory:u,gameOver:o,lettersLeft:p}},function(){setTimeout(function(){t.setState({userKey:""})},500)})}},{key:"emptyField",value:function(e){e.currentTarget.value=""}},{key:"render",value:function(){var e=this.state,t=e.tries,a=e.userKey,n=e.hiddenWord,r=e.page,s=e.gameOver,c=e.word;return u.a.createElement(u.a.Fragment,null,u.a.createElement(b,{page:r,index:0,action:this.gotoScreen}),u.a.createElement(y,{page:r,index:1,tries:t,hiddenWord:n,userKey:a,handleFieldClick:this.emptyField,getUserKey:this.getUserKey,gameOver:s}),u.a.createElement(E,{page:r,index:2,word:c,action:this.resetGame}),u.a.createElement(O,{page:r,index:3,word:c,action:this.resetGame}))}}]),t}(u.a.Component);d.a.render(u.a.createElement(j,null),document.getElementById("area"))},16:function(e,t,a){}},[[10,1,2]]]);
//# sourceMappingURL=main.c27f4ef6.chunk.js.map